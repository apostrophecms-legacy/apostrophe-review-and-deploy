{%- import 'apostrophe-ui:components/buttons.html' as buttons -%}
{% macro percentage() %}
{{ buttons.disabled(
  (
    (data.siteReview.review.reviewed / data.siteReview.review.total) * 100 | round(2)
  ) + '%', 
  { action: 'site-review-percentage' }
) }}
{% endmacro %}
{% if (data.workflowMode == 'live') and data.siteReview.review %}
  <div class="apos-site-review-menu" data-apos-site-review-menu>
    <div class="apos-button apos-button--group">
    </div>
    {% if data.siteReview.unreviewed %}
      <div class="apos-button apos-button--group">
        {{ percentage() }}
        {{ buttons.inGroup('Approve Review', { action: 'site-review-approve' }) }}
        {{ buttons.inGroup('Reject Review', { action: 'site-review-reject' }) }}
      </div>
    {% else %}
      <div class="apos-button apos-button--group">
        {{ percentage() }}
        {{ buttons.disabled('Reviewed', { action: 'site-review-reviewed' }) }}
        {{ buttons.inGroup('Review Next', { action: 'site-review-next' }) }}
      </div>
    {% endif %}
  </div>
{% endif %}
